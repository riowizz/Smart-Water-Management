<!doctype html>
<html lang="en" class="minimal-theme">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" href="assets/images/favicon-32x32.png" type="image/png"/>
    <!--plugins-->
    <link href="assets/plugins/simplebar/css/simplebar.css" rel="stylesheet"/>
    <link href="assets/plugins/perfect-scrollbar/css/perfect-scrollbar.css" rel="stylesheet"/>
    <link href="assets/plugins/metismenu/css/metisMenu.min.css" rel="stylesheet"/>
    <!-- Bootstrap CSS -->
    <link href="assets/css/bootstrap.min.css" rel="stylesheet"/>
    <link href="assets/css/bootstrap-extended.css" rel="stylesheet"/>
    <link href="assets/css/style.css" rel="stylesheet"/>
    <link href="assets/css/icons.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">

    <!-- loader-->
    <link href="assets/css/pace.min.css" rel="stylesheet"/>


    <!--Theme Styles-->
    <link href="assets/css/dark-theme.css" rel="stylesheet"/>
    <link href="assets/css/light-theme.css" rel="stylesheet"/>
    <link href="assets/css/semi-dark.css" rel="stylesheet"/>
    <link href="assets/css/header-colors.css" rel="stylesheet"/>

    <title>SoilOptimization</title>
</head>

<body>


<!--start wrapper-->
<div class="wrapper">
    <!--start top header-->
    <header class="top-header">
        <nav class="navbar navbar-expand">
            <div class="mobile-toggle-icon d-xl-none">
                <i class="bi bi-list"></i>
            </div>

            <div class="search-toggle-icon d-xl-none ms-auto">
                <i class="bi bi-search"></i>
            </div>
            <form class="searchbar d-none d-xl-flex ms-auto">
                <div class="position-absolute top-50 translate-middle-y search-icon ms-3"><i class="bi bi-search"></i>
                </div>
                <input class="form-control" type="text" placeholder="Type here to search">
                <div class="position-absolute top-50 translate-middle-y d-block d-xl-none search-close-icon"><i
                        class="bi bi-x-lg"></i></div>
            </form>
            <div class="top-navbar-right ms-3">
                <ul class="navbar-nav align-items-center">
                    <li class="nav-item dropdown dropdown-large">
                        <a class="nav-link dropdown-toggle dropdown-toggle-nocaret" href="#" data-bs-toggle="dropdown">
                            <div class="user-setting d-flex align-items-center gap-1">
                                <img src="assets/images/avatars/avatar-1.png" class="user-img" alt="">
                                <div class="user-name d-none d-sm-block">Jhon Deo</div>
                            </div>
                        </a>
                        <ul class="dropdown-menu dropdown-menu-end">
                            <li>
                                <a class="dropdown-item" href="#">
                                    <div class="d-flex align-items-center">
                                        <img src="assets/images/avatars/avatar-1.png" alt="" class="rounded-circle"
                                             width="60" height="60">
                                        <div class="ms-3">
                                            <h6 class="mb-0 dropdown-user-name">Jhon Deo</h6>
                                            <small class="mb-0 dropdown-user-designation text-secondary">HR
                                                Manager</small>
                                        </div>
                                    </div>
                                </a>
                            </li>
                            <li>
                                <hr class="dropdown-divider">
                            </li>
                            <li>
                                <a class="dropdown-item" href="pages-user-profile.html">
                                    <div class="d-flex align-items-center">
                                        <div class="setting-icon"><i class="bi bi-person-fill"></i></div>
                                        <div class="setting-text ms-3"><span>Profile</span></div>
                                    </div>
                                </a>
                            </li>

                            <li>
                                <hr class="dropdown-divider">
                            </li>
                            <li>
                                <a class="dropdown-item" href="authentication-signup-with-header-footer.html">
                                    <div class="d-flex align-items-center">
                                        <div class="setting-icon"><i class="bi bi-lock-fill"></i></div>
                                        <div class="setting-text ms-3"><span>Logout</span></div>
                                    </div>
                                </a>
                            </li>
                        </ul>
                    </li>

                </ul>
            </div>
        </nav>
    </header>
    <!--end top header-->

    <!--start sidebar -->
    <aside class="sidebar-wrapper" data-simplebar="true">
        <div class="sidebar-header">
            <div>
                <img src="assets/images/logo-icon.jpg" class="logo-icon" alt="logo icon">
            </div>
            <div>
                <h4 class="logo-text">SoilOptimization</h4>
            </div>
            <div class="toggle-icon ms-auto"><i class="bi bi-chevron-double-left"></i>
            </div>
        </div>
        <!--navigation-->
        <ul class="metismenu" id="menu">
            <li>
                <a href="javascript:;" class="has-arrow">
                    <div class="parent-icon"><i class="bi bi-house-door"></i>
                    </div>
                    <div class="menu-title">Dashboard</div>
                </a>
                <ul>
                    <li><a href="home.html"><i class="bi bi-arrow-right-short"></i>Home</a>
                    </li>
                    <li><a href="MyCrops.html"><i class="bi bi-arrow-right-short"></i>My crops</a>
                    </li>
                    <li><a href="Recommendations.html"><i class="bi bi-arrow-right-short"></i>My recommendations</a>
                    </li>

                    <li><a style="cursor: pointer" id="logout"><i class="bi bi-arrow-right-short"></i>Logout</a>
                    </li>
                </ul>
            </li>

            <li class="menu-label">Pages</li>

            <li>
                <a href="pages-user-profile.html">
                    <div class="parent-icon"><i class="bi bi-person-check"></i>
                    </div>
                    <div class="menu-title">User Profile</div>
                </a>
            </li>

            <li>
                <a href="pages-faq.html">
                    <div class="parent-icon"><i class="bi bi-exclamation-triangle"></i>
                    </div>
                    <div class="menu-title">FAQ</div>
                </a>
            </li>

        </ul>
        <!--end navigation-->
    </aside>
    <!--end sidebar -->

    <!--start content-->
    <main class="page-content">
        <!--breadcrumb-->
        <div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3">
            <div class="breadcrumb-title pe-3">Dashboards</div>
            <div class="ps-3">
                <nav aria-label="breadcrumb">
                    <ol class="breadcrumb mb-0 p-0">
                        <li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a>
                        </li>
                        <li class="breadcrumb-item active" aria-current="page">CMS Dashboard</li>
                    </ol>
                </nav>
            </div>

        </div>
        <!--end breadcrumb-->


        <!--<div class="row">
          <div class="row row-cols-2 row-cols-sm-3 row-cols-md-4 row-cols-xl-6 row-cols-xxl-6">
        <div class="col">
            <div class="card radius-10 bg-tiffany">
                <div class="card-body text-center">
                    <div class="widget-icon mx-auto mb-3 bg-white-1 text-white">
                        <i class="bi bi-chat-left-fill"></i>
                    </div>
                    <h3 class="text-white">25</h3>
                    <p class="mb-0 text-white">Messages</p>
                </div>
            </div>
        </div>
        <div class="col">
            <div class="card radius-10 bg-danger">
                <div class="card-body text-center">
                    <div class="widget-icon mx-auto mb-3 bg-white-1 text-white">
                        <i class="bi bi-hdd-fill"></i>
                    </div>
                    <h3 class="text-white">35</h3>
                    <p class="mb-0 text-white">My crops</p>
                </div>
            </div>
        </div>
        <div class="col">
            <div class="card radius-10 bg-success">
                <div class="card-body text-center">
                    <div class="widget-icon mx-auto mb-3 bg-white-1 text-white">
                        <i class="bi bi-people-fill"></i>
                    </div>
                    <h3 class="text-white">16</h3>
                    <p class="mb-0 text-white">Moisture</p>
                </div>
            </div>
        </div>
        <div class="col">
            <div class="card radius-10 bg-dark">
                <div class="card-body text-center">
                    <div class="widget-icon mx-auto mb-3 bg-white-1 text-white">
                        <i class="bi bi-archive-fill"></i>
                    </div>
                    <h3 class="text-white">18</h3>
                    <p class="mb-0 text-white">Recommendations</p>
                </div>
            </div>
        </div>

    </div>&lt;!&ndash;end row&ndash;&gt;
          <div class="col-12 col-lg-12 col-xl-6 d-flex">
            <div class="card radius-10 w-100">
              <div class="card-header bg-transparent">
                <div class="row g-3 align-items-center">
                  <div class="col">
                    <h5 class="mb-0">User Status</h5>
                  </div>
                  <div class="col">
                    <div class="d-flex align-items-center justify-content-end gap-3 cursor-pointer">
                      <div class="dropdown">
                        <a class="dropdown-toggle dropdown-toggle-nocaret" href="#" data-bs-toggle="dropdown" aria-expanded="false"><i class="bx bx-dots-horizontal-rounded font-22 text-option"></i>
                        </a>
                        <ul class="dropdown-menu">
                          <li><a class="dropdown-item" href="javascript:;">Action</a>
                          </li>
                          <li><a class="dropdown-item" href="javascript:;">Another action</a>
                          </li>
                          <li>
                            <hr class="dropdown-divider">
                          </li>
                          <li><a class="dropdown-item" href="javascript:;">Something else here</a>
                          </li>
                        </ul>
                      </div>
                    </div>
                  </div>
                 </div>
              </div>
              <div class="card-body">
                 <div id="chart1"></div>
              </div>
            </div>
          </div>
        </div>&lt;!&ndash;end row&ndash;&gt;-->

        <div class="row">

            <div class="col-12 col-lg-12 col-xl-12 col-xxl-4 d-flex">
                <div class="card radius-10 w-100">
                    <div class="card-header bg-transparent">
                        <div class="row g-3 align-items-center">
                            <div class="col">
                                <h5 class="mb-0">Moisture Content</h5>
                            </div>

                        </div>
                    </div>
                    <div class="card-body">
                        <div class="row align-items-center justify-content-center">
                            <div class="col-12 col-lg-6 col-xl-6">
                                <div id="chart4"></div>
                            </div>
                            <div class="col-12 col-lg-6 col-xl-6">
                                <div class="row-cols-1 row-cols-lg-2 row-cols-xl-2 g-3">
                                    <div class="col">
                                        <div class="card radius-10 mb-0 shadow-none">
                                            <div class="card-body p-4">
                                                <div class="text-center">
                                                    <img src="assets/images/avatars/moisture.jpg" alt="" class=""
                                                         width="112" height="112">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col">
                                        <div class="card radius-10 mb-0 shadow-none bg-light-success">
                                            <div class="card-body p-4">
                                                <div class="text-center">
                                                    <p class="mb-0 text-purple"
                                                       style="font-size: 26px; font-weight: bold;" id="moisture">
                                                        HIGH</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-12 col-lg-12 col-xl-12 col-xxl-4 d-flex">
                <div class="card radius-10 w-100">
                    <div class="card-header bg-transparent">
                        <div class="row g-3 align-items-center">
                            <div class="col">
                                <h5 class="mb-0">Temperature</h5>
                            </div>

                        </div>
                    </div>
                    <div class="card-body">
                        <div class="row align-items-center justify-content-center">
                            <div class="col-12 col-lg-6 col-xl-6">
                                <div id="chart4-1"></div>
                            </div>
                            <div class="col-12 col-lg-6 col-xl-6">
                                <div class="row-cols-1 row-cols-lg-2 row-cols-xl-2 g-3">
                                    <div class="col">
                                        <div class="card radius-10 mb-0 shadow-none">
                                            <div class="card-body p-4">
                                                <div class="text-center">
                                                    <img src="assets/images/avatars/temp.png" alt="" class=""
                                                         width="112" height="112">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col">
                                        <div class="card radius-10 mb-0 shadow-none bg-light-orange">
                                            <div class="card-body p-4">
                                                <div class="text-center">
                                                    <p class="mb-0 text-purple"
                                                       style="font-size: 26px; font-weight: bold;" id="temperature">
                                                        LOW</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-12 col-lg-12 col-xl-12 col-xxl-4 d-flex">
                <div class="card radius-10 w-100">
                    <div class="card-header bg-transparent">
                        <div class="row g-3 align-items-center">
                            <div class="col">
                                <h5 class="mb-0">Humidity</h5>
                            </div>

                        </div>
                    </div>
                    <div class="card-body">
                        <div class="row align-items-center justify-content-center">
                            <div class="col-12 col-lg-6 col-xl-6">
                                <div id="chart4-2"></div>
                            </div>
                            <div class="col-12 col-lg-6 col-xl-6">
                                <div class="row-cols-1 row-cols-lg-2 row-cols-xl-2 g-3">
                                    <div class="col">
                                        <div class="card radius-10 mb-0 shadow-none">
                                            <div class="card-body p-4">
                                                <div class="text-center">
                                                    <img src="assets/images/avatars/humidity.png" alt="" class=""
                                                         width="112" height="112">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col">
                                        <div class="card radius-10 mb-0 shadow-none bg-light-purple">
                                            <div class="card-body p-4">
                                                <div class="text-center">
                                                    <p class="mb-0 text-purple"
                                                       style="font-size: 26px; font-weight: bold;" id="humidity">
                                                        HIGH</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
        end row


        <div class="row">
            <div class="col-12 col-lg-12 col-xl-12 d-flex">
                <div class="card radius-10 w-100">
                    <div class="card-header bg-transparent p-3">
                        <div class="row row-cols-1 row-cols-lg-2 g-3 align-items-center">
                            <div class="col">
                                <h5 class="mb-0">Moisture vs Temperature</h5>
                            </div>
                            <div class="col">
                                <div class="d-flex align-items-center justify-content-sm-end gap-3 cursor-pointer">
                                    <div class="font-13"><i class="bi bi-circle-fill text-info"></i><span class="ms-2">Moisture</span>
                                    </div>
                                    <div class="font-13"><i class="bi bi-circle-fill text-orange"></i><span
                                            class="ms-2">Temperature</span></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="card-body">
                        <div id="chart5"></div>
                    </div>

                </div>
            </div>
            <!--<div class="col-12 col-lg-12 col-xl-6 d-flex">
              <div class="card radius-10 w-100">
                <div class="card-header bg-transparent">
                  <div class="row g-3 align-items-center">
                    <div class="col">
                      <h5 class="mb-0">Statistics</h5>
                    </div>
                    <div class="col">
                      <div class="d-flex align-items-center justify-content-end gap-3 cursor-pointer">
                        <div class="dropdown">
                          <a class="dropdown-toggle dropdown-toggle-nocaret" href="#" data-bs-toggle="dropdown" aria-expanded="false"><i class="bx bx-dots-horizontal-rounded font-22 text-option"></i>
                          </a>
                          <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="javascript:;">Action</a>
                            </li>
                            <li><a class="dropdown-item" href="javascript:;">Another action</a>
                            </li>
                            <li>
                              <hr class="dropdown-divider">
                            </li>
                            <li><a class="dropdown-item" href="javascript:;">Something else here</a>
                            </li>
                          </ul>
                        </div>
                      </div>
                    </div>
                   </div>
                </div>
                <div class="card-body">
                   <div id="chart2"></div>
                </div>
              </div>
            </div>-->
        </div><!--end row-->


    </main>
    <!--end page main-->


    <!--start overlay-->
    <div class="overlay nav-toggle-icon"></div>
    <!--end overlay-->

    <!--Start Back To Top Button-->
    <a href="javaScript:;" class="back-to-top"><i class='bx bxs-up-arrow-alt'></i></a>
    <!--End Back To Top Button-->

    <!--start switcher-->
    <div class="switcher-body">
        <button class="btn btn-primary btn-switcher shadow-sm" type="button" data-bs-toggle="offcanvas"
                data-bs-target="#offcanvasScrolling" aria-controls="offcanvasScrolling"><i
                class="bi bi-paint-bucket me-0"></i></button>
        <div class="offcanvas offcanvas-end shadow border-start-0 p-2" data-bs-scroll="true" data-bs-backdrop="false"
             tabindex="-1" id="offcanvasScrolling">
            <div class="offcanvas-header border-bottom">
                <h5 class="offcanvas-title" id="offcanvasScrollingLabel">Theme Customizer</h5>
                <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas"></button>
            </div>
            <div class="offcanvas-body">
                <h6 class="mb-0">Theme Variation</h6>
                <hr>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="inlineRadioOptions" id="LightTheme"
                           value="option1">
                    <label class="form-check-label" for="LightTheme">Light</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="inlineRadioOptions" id="DarkTheme"
                           value="option2">
                    <label class="form-check-label" for="DarkTheme">Dark</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="inlineRadioOptions" id="SemiDarkTheme"
                           value="option3">
                    <label class="form-check-label" for="SemiDarkTheme">Semi Dark</label>
                </div>
                <hr>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="inlineRadioOptions" id="MinimalTheme"
                           value="option3" checked>
                    <label class="form-check-label" for="MinimalTheme">Minimal Theme</label>
                </div>
                <hr/>
                <h6 class="mb-0">Header Colors</h6>
                <hr/>
                <div class="header-colors-indigators">
                    <div class="row row-cols-auto g-3">
                        <div class="col">
                            <div class="indigator headercolor1" id="headercolor1"></div>
                        </div>
                        <div class="col">
                            <div class="indigator headercolor2" id="headercolor2"></div>
                        </div>
                        <div class="col">
                            <div class="indigator headercolor3" id="headercolor3"></div>
                        </div>
                        <div class="col">
                            <div class="indigator headercolor4" id="headercolor4"></div>
                        </div>
                        <div class="col">
                            <div class="indigator headercolor5" id="headercolor5"></div>
                        </div>
                        <div class="col">
                            <div class="indigator headercolor6" id="headercolor6"></div>
                        </div>
                        <div class="col">
                            <div class="indigator headercolor7" id="headercolor7"></div>
                        </div>
                        <div class="col">
                            <div class="indigator headercolor8" id="headercolor8"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!--end switcher-->

</div>
<!--end wrapper-->


<!-- Bootstrap bundle JS -->
<script src="assets/js/bootstrap.bundle.min.js"></script>
<!--plugins-->
<script src="assets/js/jquery.min.js"></script>
<script src="assets/plugins/simplebar/js/simplebar.min.js"></script>
<script src="assets/plugins/metismenu/js/metisMenu.min.js"></script>
<script src="assets/plugins/perfect-scrollbar/js/perfect-scrollbar.js"></script>
<script src="assets/js/pace.min.js"></script>
<script src="assets/plugins/apexcharts-bundle/js/apexcharts.min.js"></script>
<!--app-->
<script src="assets/js/app.js"></script>
<!--<script src="assets/js/index5.js"></script>-->

<!--app-->
<script src="assets/js/moment.js"></script>
<script src="assets/js/app.js"></script>
<script src="assets/js/axios.min.js"></script>
<script src="assets/js/common.js"></script>
<script src="assets/js/send.js"></script>
<script src="assets/js/globals.js"></script>

<script>
    if (getRole() === "User") {
        $(".to-hide").hide();
        $(".for-user").show();
    }
    document.getElementById("logout").addEventListener("click", (e) => {
        removeUserSession();
        location.href = "./index.html"
    })

    sendGet(`https://soil-optimization.onrender.com/api/farmdata/`, (res) => {
        // let cont = document.getElementById("timeline");
        // let str = ``;
        draw_graphs(res)
    })


    function processDataForDailyChart(data) {
        // Filter data for the previous week
        const previousWeekData = data.filter(record => {
            const recordDate = moment(record.date);
            const currentDate = moment();
            return recordDate.isoWeek() === currentDate.isoWeek() - 1;
        });

        // Group data by day
        const groupedData = previousWeekData.reduce((acc, record) => {
            const dayLabel = moment(record.date).format('ddd'); // Assuming 'date' is in ISO format

            if (!acc[dayLabel]) {
                acc[dayLabel] = {
                    moisture: [],
                    temperature: [],
                };
            }

            acc[dayLabel].moisture.push(Number(record.moisture));
            acc[dayLabel].temperature.push(Number(record.temperature));

            return acc;
        }, {});

        // Calculate average values for each day
        const dailyAverages = Object.keys(groupedData).map((dayLabel) => {
            const dayData = groupedData[dayLabel];
            const moistureAverage = dayData.moisture.reduce((sum, value) => sum + value, 0) / dayData.moisture.length;
            const temperatureAverage = dayData.temperature.reduce((sum, value) => sum + value, 0) / dayData.temperature.length;

            return {
                name: dayLabel,
                data: [moistureAverage, temperatureAverage],
            };
        });

        return dailyAverages;
    }


    function change_color(el, _class) {
        let _el = el.parentElement.parentElement.parentElement
        _el.classList.remove("bg-light-orange", "bg-light-purple", "bg-light-success");
        console.log(_el, _class)
        _el.classList.add(_class);
        // console.log(el.parentElement.parentElement.parentElement)
    }


    function findMostRecentValues(data) {
        // Sort the data based on the 'date' property in descending order
        data.sort((a, b) => new Date(b.date) - new Date(a.date));

        // Return the first element of the sorted array
        return data[0];
    }


    function draw_graphs(data) {
        console.log(processDataForDailyChart(data))
        let values = findMostRecentValues(data);
        console.log(values)
        let moisture = values["moisture"];
        let temperature = values["temperature"];
        let humidity = values["humidity"];



        //if moisture > 75 then HIGH else if moisture > 50 then GOOD else LOW
        function updateSensorStatus(value, thresholdHigh, thresholdGood, elementId) {
            console.log(document.getElementById(elementId))
            var status = "";

            if (value > thresholdHigh) {
                status = "HIGH";
                change_color(document.getElementById(elementId), 'bg-light-purple');
            } else if (value > thresholdGood) {
                status = "GOOD";
                change_color(document.getElementById(elementId), 'bg-light-success');
            } else {
                status = "LOW";
                change_color(document.getElementById(elementId), 'bg-light-orange');
            }

            document.getElementById(elementId).innerHTML = status;
        }

// Update moisture status
        updateSensorStatus(moisture, 75, 50, "moisture");

// Update temperature status
        updateSensorStatus(temperature, 30, 20, "temperature");

// Update humidity status
        updateSensorStatus(humidity, 75, 50, "humidity");


        // chart 4

        var options = {
            series: [moisture],
            chart: {
                foreColor: '#9ba7b2',
                height: 280,
                type: 'radialBar',
            },
            plotOptions: {
                radialBar: {
                    hollow: {
                        margin: 0,
                        size: '82%',
                        //background: '#fff',
                        image: undefined,
                        imageOffsetX: 0,
                        imageOffsetY: 0,
                        position: 'front',
                        dropShadow: {
                            enabled: false,
                            top: 3,
                            left: 0,
                            blur: 4,
                            color: 'rgba(0, 169, 255, 0.15)',
                            opacity: 0.65
                        }
                    },
                    track: {
                        background: '#dfecff',
                        //strokeWidth: '67%',
                        margin: 0, // margin is in pixels
                        dropShadow: {
                            enabled: false,
                            top: -3,
                            left: 0,
                            blur: 4,
                            color: 'rgba(0, 169, 255, 0.85)',
                            opacity: 0.65
                        }
                    },
                    dataLabels: {
                        showOn: 'always',
                        name: {
                            offsetY: -25,
                            show: true,
                            color: '#6c757d',
                            fontSize: '16px'
                        },
                        value: {
                            formatter: function (val) {
                                return val + "%";
                            },
                            color: '#000',
                            fontSize: '45px',
                            show: true,
                            offsetY: 10,
                        }
                    }
                }
            },
            fill: {
                type: 'gradient',
                gradient: {
                    shade: 'dark',
                    type: 'horizontal',
                    shadeIntensity: 0.5,
                    gradientToColors: ['#3361ff'],  // Change this color to the desired one
                    inverseColors: false,
                    opacityFrom: 1,
                    opacityTo: 1,
                    stops: [0, 100]
                }
            },
            colors: ["#00ff00"],  // Change this color to the desired one
            labels: ['Water Moisture'],
        };

        var chart = new ApexCharts(document.querySelector("#chart4"), options);
        chart.render();


        // chart 4-1

        var options = {
            series: [temperature],
            chart: {
                foreColor: '#9ba7b2',
                height: 280,
                type: 'radialBar',
            },
            plotOptions: {
                radialBar: {
                    hollow: {
                        margin: 0,
                        size: '82%',
                        image: undefined,
                        imageOffsetX: 0,
                        imageOffsetY: 0,
                        position: 'front',
                        dropShadow: {
                            enabled: false,
                            top: 3,
                            left: 0,
                            blur: 4,
                            color: 'rgba(0, 169, 255, 0.15)',
                            opacity: 0.65
                        }
                    },
                    track: {
                        background: '#dfecff',
                        margin: 0,
                        dropShadow: {
                            enabled: false,
                            top: -3,
                            left: 0,
                            blur: 4,
                            color: 'rgba(79, 23, 131, 0.85)',
                            opacity: 0.65
                        }
                    },
                    dataLabels: {
                        showOn: 'always',
                        name: {
                            offsetY: -25,
                            show: true,
                            color: '#6c757d',
                            fontSize: '16px'
                        },
                        value: {
                            formatter: function (val) {
                                return val + "%";
                            },
                            color: '#000',
                            fontSize: '45px',
                            show: true,
                            offsetY: 10,
                        }
                    }
                }
            },
            fill: {
                type: 'gradient',
                gradient: {
                    shade: 'dark',
                    type: 'horizontal',
                    shadeIntensity: 0.5,
                    gradientToColors: ['#ff6384'], // Change this color to the desired one
                    inverseColors: false,
                    opacityFrom: 1,
                    opacityTo: 1,
                    stops: [0, 100]
                }
            },
            colors: ["#36a2eb"], // Change this color to the desired one
            labels: ['Temperature'],
        };


        var chart = new ApexCharts(document.querySelector("#chart4-1"), options);
        chart.render();


        // chart 4-2

        var options = {
            series: [humidity],
            chart: {
                foreColor: '#9ba7b2',
                height: 280,
                type: 'radialBar',
            },
            plotOptions: {
                radialBar: {
                    hollow: {
                        margin: 0,
                        size: '82%',
                        image: undefined,
                        imageOffsetX: 0,
                        imageOffsetY: 0,
                        position: 'front',
                        dropShadow: {
                            enabled: false,
                            top: 3,
                            left: 0,
                            blur: 4,
                            color: 'rgba(0, 169, 255, 0.15)',
                            opacity: 0.65
                        }
                    },
                    track: {
                        background: '#e6f7ff', // Change this color to the desired one
                        margin: 0,
                        dropShadow: {
                            enabled: false,
                            top: -3,
                            left: 0,
                            blur: 4,
                            color: 'rgba(135, 206, 250, 0.85)', // Change this color to the desired one
                            opacity: 0.65
                        }
                    },
                    dataLabels: {
                        showOn: 'always',
                        name: {
                            offsetY: -25,
                            show: true,
                            color: '#6c757d',
                            fontSize: '16px'
                        },
                        value: {
                            formatter: function (val) {
                                return val + "%";
                            },
                            color: '#000',
                            fontSize: '45px',
                            show: true,
                            offsetY: 10,
                        }
                    }
                }
            },
            fill: {
                type: 'gradient',
                gradient: {
                    shade: 'dark',
                    type: 'horizontal',
                    shadeIntensity: 0.5,
                    gradientToColors: ['#ffcc80'], // Change this color to the desired one
                    inverseColors: false,
                    opacityFrom: 1,
                    opacityTo: 1,
                    stops: [0, 100]
                }
            },
            colors: ["#ffcc80"], // Change this color to the desired one
            labels: ['Humidity'],
        };


        var chart = new ApexCharts(document.querySelector("#chart4-2"), options);
        chart.render();


        var optionsLine = {
            chart: {
                foreColor: '#9ba7b2',
                height: 275,
                type: 'line',
                toolbar: {
                    show: !1
                },
                zoom: {
                    enabled: false
                },
                dropShadow: {
                    enabled: true,
                    top: 3,
                    left: 2,
                    blur: 4,
                    opacity: 0.1,
                }
            },
            stroke: {
                curve: 'smooth',
                width: 3
            },
            colors: ["#32bfff", '#ff6632'],
            series: [{
                name: "Moisture",
                data: [1, 15, 56, 20, 33, 27, 15]
            }, {
                name: "Temperature",
                data: [30, 33, 21, 42, 30, 33, 21]
            }],
            markers: {
                size: 4,
                strokeWidth: 0,
                hover: {
                    size: 7
                }
            },
            grid: {
                show: true,
                padding: {
                    bottom: 0
                }
            },
            //labels: ['01/15/2002', '01/16/2002', '01/17/2002', '01/18/2002', '01/19/2002', '01/20/2002'],
            xaxis: {
                //type: 'datetime',
                categories: ['Mon', 'Tue', 'Wed', 'Thur', 'Fri', 'Sat', 'Sun'],
            },
            legend: {
                position: 'top',
                horizontalAlign: 'right',
                offsetY: -20
            }
        }
        var chartLine = new ApexCharts(document.querySelector('#chart5'), optionsLine);
        chartLine.render();

    }
</script>

</body>

</html>